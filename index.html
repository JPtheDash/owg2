<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crossword Puzzle Game</title>
    <style>
        /* Add your CSS styles here */
        #puzzle {
            border-collapse: collapse;
            margin: 20px auto;
        }

        #puzzle td {
            width: 40px;
            height: 40px;
            border: 1px solid black;
            text-align: center;
            vertical-align: middle;
            cursor: pointer; /* Add cursor pointer for better user experience */
        }

        .selected {
            background-color: lightgreen;
        }

        .wrong {
            background-color: #ffcccc;
        }

        .correct {
            background-color: lightgreen;
        }

        #controls {
            margin-top: 20px;
        }

        #controls button {
            margin: 0 10px;
            font-size: 16px;
            padding: 5px 10px;
        }

        #result-label {
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <table id="puzzle"></table>
        <div id="controls">
            <button id="ok-btn">OK</button>
            <button id="refresh-btn">üîÅ</button>
            <div id="result-label"></div>
        </div>
    </div>

    <script>
        // List of words for the puzzle
        const words = ["example", "word", "puzzle", "crossword", "game"];

        // Variable to store the selected word
        let selectedLetters = "";

        // Function to generate random letters for the puzzle
        function generateRandomLetters() {
            let randomLetters = [];
            for (let i = 0; i < 25; i++) {
                let randomWord = words[Math.floor(Math.random() * words.length)];
                let randomLetter = randomWord.charAt(Math.floor(Math.random() * randomWord.length));
                randomLetters.push(randomLetter);
            }
            return randomLetters;
        }

        // Function to populate the puzzle table with random letters
        function populatePuzzle() {
            let puzzleTable = document.getElementById("puzzle");
            let letters = generateRandomLetters();
            let cellIndex = 0;
            for (let i = 0; i < 5; i++) {
                let row = puzzleTable.insertRow(i);
                for (let j = 0; j < 5; j++) {
                    let cell = row.insertCell(j);
                    cell.textContent = letters[cellIndex++];
                    cell.addEventListener("click", function() {
                        toggleCell(cell);
                    });
                }
            }
        }

        // Function to toggle cell selection
        function toggleCell(cell) {
            if (cell.classList.contains("selected")) {
                cell.classList.remove("selected");
                selectedLetters = selectedLetters.replace(cell.textContent, "");
            } else {
                // Check if cell is adjacent to previously selected cells
                if (selectedLetters === "" || isAdjacent(cell)) {
                    cell.classList.add("selected");
                    selectedLetters += cell.textContent;
                }
            }
        }

        // Function to check if cell is adjacent to previously selected cells
        function isAdjacent(cell) {
            let selectedCells = document.querySelectorAll(".selected");
            if (selectedCells.length === 0) return true; // First selection
            let lastCell = selectedCells[selectedCells.length - 1];
            let lastCellIndex = lastCell.cellIndex + 5 * lastCell.parentNode.rowIndex;
            let currentCellIndex = cell.cellIndex + 5 * cell.parentNode.rowIndex;
            return Math.abs(currentCellIndex - lastCellIndex) === 1 || Math.abs(currentCellIndex - lastCellIndex) === 5;
        }

        // Function to validate the selected word
        function validateWord() {
            if (words.includes(selectedLetters)) {
                document.getElementById("result-label").textContent = "Correct!";
            } else {
                document.getElementById("result-label").textContent = "Wrong!";
            }
        }

        // Function to refresh the puzzle table
        function refreshTable() {
            let puzzleTable = document.getElementById("puzzle");
            puzzleTable.innerHTML = "";
            populatePuzzle();
            selectedLetters = ""; // Reset selected letters
            document.getElementById("result-label").textContent = ""; // Clear result label
        }

        // Event listener for OK button
        document.getElementById("ok-btn").addEventListener("click", function() {
            validateWord();
        });

        // Event listener for Refresh button
        document.getElementById("refresh-btn").addEventListener("click", function() {
            refreshTable();
        });

        // Populate the puzzle table when the page loads
        populatePuzzle();
    </script>
</body>
</html>
